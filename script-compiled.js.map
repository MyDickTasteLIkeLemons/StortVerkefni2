{"version":3,"sources":["script.js","VideoPlayerScript.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class VideoContent {\r\n  constructor() {\r\n    this.url = 'videos.json';\r\n    this.videos = null;\r\n    this.categories = null;\r\n  }\r\n\r\n  showLoad() {\r\n    console.log('start loading');\r\n  }\r\n  hideLoad() {\r\n    console.log('stop loading');\r\n  }\r\n  showError(e) {\r\n    console.log('error');\r\n    console.log(e);\r\n  }\r\n  displayCategory(id) {\r\n    const container = document.querySelector('main');\r\n    const s = document.createElement('section');\r\n    const h = document.createElement('h1');\r\n    h.classList.add('category__header');\r\n    h.innerHTML = this.categories[id].title;\r\n    const v = document.createElement('div');\r\n    v.classList.add('videos');\r\n    s.appendChild(h);\r\n\r\n    for (let i = 0; i < this.categories[id].videos.length; i += 1) {\r\n      const k = this.categories[id].videos[i] - 1;\r\n      this.displayVideo(k, v);\r\n    }\r\n    s.appendChild(v);\r\n    const cs = document.createElement('div');\r\n    cs.classList.add('content-seperator');\r\n    s.appendChild(cs);\r\n    container.appendChild(s);\r\n  }\r\n  displayVideo(id, container) {\r\n    const v = document.createElement('div');\r\n    v.classList.add('video');\r\n    const vimg = document.createElement('div');\r\n    vimg.classList.add('video__img');\r\n    const img = document.createElement('img');\r\n    img.src = this.videos[id].poster;\r\n    img.alt = this.videos[id].title;\r\n    const vd = document.createElement('div');\r\n    vd.classList.add('video__duration');\r\n    vd.innerHTML = this.duration(this.videos[id].duration);\r\n    vimg.appendChild(img);\r\n    vimg.appendChild(vd);\r\n    const vinfo = document.createElement('div');\r\n    vinfo.classList.add('video__info');\r\n    const h = document.createElement('h2');\r\n    h.innerHTML = this.videos[id].title;\r\n    const p = document.createElement('p');\r\n    p.innerHTML = this.howLong(this.videos[id].created);\r\n    vinfo.appendChild(h);\r\n    vinfo.appendChild(p);\r\n    v.appendChild(vimg);\r\n    v.appendChild(vinfo);\r\n    container.appendChild(v);\r\n  }\r\n  duration(x) {\r\n    let dur = x;\r\n    const mins = Math.floor(dur / 60);\r\n    dur %= 60;\r\n    const secs = Math.floor(dur);\r\n\r\n    if (secs < 10) {\r\n      return `${mins}:0${secs}`;\r\n    }\r\n    return `${mins}:${secs}`;\r\n  }\r\n  howLong(x) {\r\n    const d = new Date();\r\n    let s = (Date.now() - x) / 1000;\r\n    const years = Math.floor(s / (365 * 24 * 60 * 60));\r\n    s %= (365 * 24 * 60 * 60);\r\n    const months = Math.floor(s / (30 * 24 * 60 * 60));\r\n    s %= (30 * 24 * 60 * 60);\r\n    const weeks = Math.floor(s / (7 * 24 * 60 * 60));\r\n    s %= (7 * 24 * 60 * 60);\r\n    const days = Math.floor(s / (24 * 60 * 60));\r\n    s %= (24 * 60 * 60);\r\n    const hours = Math.floor(s / (60 * 60));\r\n    s %= (60 * 60);\r\n\r\n    if (years > 1) {\r\n      if (this.lastDigit(years) === 1) {\r\n        return `Fyrir ${years} ári`;\r\n      }\r\n      return `Fyrir ${years} árum`;\r\n    }\r\n    if (months > 1) {\r\n      if (this.lastDigit(months) === 1) {\r\n        return `Fyrir ${months} mánuði`;\r\n      }\r\n      return `Fyrir ${months} mánuðum`;\r\n    }\r\n    if (weeks > 1) {\r\n      if (this.lastDigit(weeks) === 1) {\r\n        return `Fyrir ${weeks} viku`;\r\n      }\r\n      return `Fyrir ${weeks} vikum`;\r\n    }\r\n    if (days > 1) {\r\n      if (this.lastDigit(days) === 1) {\r\n        return `Fyrir ${days} degi`;\r\n      }\r\n      return `Fyrir ${days} dögum`;\r\n    }\r\n    if (this.lastDigit(hours) === 1) {\r\n      return `Fyrir ${hours} klukkustund`;\r\n    }\r\n    return `Fyrir ${hours} klukkustundum`;\r\n  }\r\n\r\n  lastDigit(x) {\r\n    let str = x.toString();\r\n    str = str.slice(-1);\r\n    return parseInt(str, 10);\r\n  }\r\n  getVideo() {\r\n\r\n  }\r\n  getJSON(isIndex) {\r\n    const request = new XMLHttpRequest();\r\n\r\n    this.showLoad();\r\n    request.open('GET', this.url, true);\r\n    request.onload = () => {\r\n      this.hideLoad();\r\n      const data = JSON.parse(request.response);\r\n      if (request.status >= 200 && request.status < 400) {\r\n        if (isIndex) {\r\n          [this.categories, this.videos] = [data.categories, data.videos];\r\n          for (let i = 0; i < this.categories.length; i += 1) {\r\n            this.displayCategory(i);\r\n          }\r\n        }\r\n        else {\r\n          this.getVideo();\r\n        }\r\n      } else {\r\n        this.showError(data.error);\r\n      }\r\n    };\r\n    request.onerror = () => {\r\n      this.showError('Óþekkt villa');\r\n    };\r\n    request.send();\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const videoContent = new VideoContent();\r\n  if(window.location.pathname.split('?')[0] == \"/videopage.html\"){\r\n    videoContent.getJSON(false);\r\n  } else {\r\n    videoContent.getJSON(true);\r\n  }\r\n});\r\n","class Player {\r\n  constructor() {\r\n    this.isPlaying = false;\r\n    this.isMute = false;\r\n\r\n    this.video = document.querySelector('.videoContainer__video');\r\n\r\n    this.playOverlay = document.querySelector('.videoContainer__playOverlay');\r\n\r\n    this.playOverlayButton = document.querySelector('.videoContainer__playOverlayImage');\r\n\r\n    this.playButton = document.querySelector('.playButton');\r\n    this.muteButton = document.querySelector('.muteButton');\r\n    this.fullscreenButton = document.querySelector('.fullscreenButton');\r\n    this.forwardButton = document.querySelector('.forwardButton');\r\n    this.backwardButton = document.querySelector('.backwardButton');\r\n\r\n    this.playButton.addEventListener('click', this.play.bind(this));\r\n    this.muteButton.addEventListener('click', this.mute.bind(this));\r\n    this.fullscreenButton.addEventListener('click', this.fullscreen.bind(this));\r\n    this.forwardButton.addEventListener('click', this.forward.bind(this));\r\n    this.backwardButton.addEventListener('click', this.backward.bind(this));\r\n    this.playOverlayButton.addEventListener('click', this.play.bind(this));\r\n  }\r\n  load() {\r\n\t const id = window.location.pathname.split('?')[1].split('=')[1];\r\n\t \r\n  }\r\n\r\n  play() {\r\n    if (this.isPlaying) {\r\n      this.video.pause();\r\n      this.playButton.src = 'img/play.svg';\r\n      this.playOverlay.style.display = 'block';\r\n    } else {\r\n      this.video.play();\r\n      this.playButton.src = 'img/pause.svg';\r\n      this.playOverlay.style.display = 'none';\r\n    }\r\n    this.isPlaying = !this.isPlaying;\r\n  }\r\n\r\n  mute() {\r\n    if (this.video.muted) {\r\n      this.video.muted = false;\r\n      this.muteButton.src = 'img/mute.svg';\r\n    } else {\r\n      this.video.muted = true;\r\n      this.muteButton.src = 'img/unmute.svg';\r\n    }\r\n    this.isMute = !this.isMute;\r\n  }\r\n\r\n  fullscreen() {\r\n    this.video.webkitRequestFullScreen();\r\n  }\r\n\r\n  forward() {\r\n    this.video.currentTime = this.video.currentTime + 3;\r\n  }\r\n\r\n  backward() {\r\n    this.video.currentTime = this.video.currentTime - 3;\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n   if(window.location.pathname.split('?')[0] == \"/VideoPage.html\"){\r\n      const p = new Player();\r\n      p.load();\r\n  }\r\n});\r\n"]}