<<<<<<< HEAD
{"version":3,"sources":["script.js","VideoPlayerScript.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class VideoContent {\n  constructor() {\n    this.url = 'vieos.json';\n    this.videos = null;\n    this.categories = null;\n    this.message = null;\n  }\n\n  showLoad() {\n    this.message.innerHTML = 'Hleð gögnum...';\n    this.message.classList.remove('hidden');\n  }\n  hideLoad() {\n    this.message.innerHTML = null;\n    this.message.classList.add('hidden');\n  }\n  showError(e) {\n    this.message.innerHTML = e;\n    this.message.classList.remove('hidden');\n  }\n\n  displayCategory(id) {\n    const container = document.querySelector('main');\n    const s = document.createElement('section');\n    const h = document.createElement('h1');\n    h.classList.add('category__header');\n    h.innerHTML = this.categories[id].title;\n    const v = document.createElement('div');\n    v.classList.add('videos');\n    s.appendChild(h);\n\n    for (let i = 0; i < this.categories[id].videos.length; i += 1) {\n      const k = this.categories[id].videos[i] - 1;\n      this.displayVideo(k, v);\n    }\n    s.appendChild(v);\n    const cs = document.createElement('div');\n    cs.classList.add('content-seperator');\n    s.appendChild(cs);\n    container.appendChild(s);\n  }\n  displayVideo(id, container) {\n    const video = document.createElement('div');\n    video.classList.add('video');\n\n    const a = document.createElement('a');\n    a.href = `VideoPage.html?id=${this.videos[id].id}`;\n\n    const vimg = document.createElement('a');\n    vimg.classList.add('video__img');\n\n    const img = document.createElement('img');\n    img.src = this.videos[id].poster;\n    img.alt = this.videos[id].title;\n\n    const vd = document.createElement('div');\n    vd.classList.add('video__duration');\n    vd.innerHTML = this.duration(this.videos[id].duration);\n    vimg.appendChild(img);\n    vimg.appendChild(vd);\n\n    const vinfo = document.createElement('div');\n    vinfo.classList.add('video__info');\n\n    const h = document.createElement('h2');\n    h.innerHTML = this.videos[id].title;\n\n    const p = document.createElement('p');\n    p.innerHTML = this.howLong(this.videos[id].created);\n\n    vinfo.appendChild(h);\n    vinfo.appendChild(p);\n\n    a.appendChild(vimg);\n    a.appendChild(vinfo);\n\n    video.appendChild(a);\n\n    container.appendChild(video);\n  }\n  duration(x) {\n    let dur = x;\n    const mins = Math.floor(dur / 60);\n    dur %= 60;\n    const secs = Math.floor(dur);\n\n    if (secs < 10) {\n      return `${mins}:0${secs}`;\n    }\n    return `${mins}:${secs}`;\n  }\n  howLong(x) {\n    let s = (Date.now() - x) / 1000;\n    const years = Math.floor(s / (365 * 24 * 60 * 60));\n    s %= (365 * 24 * 60 * 60);\n    const months = Math.floor(s / (30 * 24 * 60 * 60));\n    s %= (30 * 24 * 60 * 60);\n    const weeks = Math.floor(s / (7 * 24 * 60 * 60));\n    s %= (7 * 24 * 60 * 60);\n    const days = Math.floor(s / (24 * 60 * 60));\n    s %= (24 * 60 * 60);\n    const hours = Math.floor(s / (60 * 60));\n    s %= (60 * 60);\n\n    if (years > 1) {\n      if (this.lastDigit(years) === 1) {\n        return `Fyrir ${years} ári`;\n      }\n      return `Fyrir ${years} árum`;\n    }\n    if (months > 1) {\n      if (this.lastDigit(months) === 1) {\n        return `Fyrir ${months} mánuði`;\n      }\n      return `Fyrir ${months} mánuðum`;\n    }\n    if (weeks > 1) {\n      if (this.lastDigit(weeks) === 1) {\n        return `Fyrir ${weeks} viku`;\n      }\n      return `Fyrir ${weeks} vikum`;\n    }\n    if (days > 1) {\n      if (this.lastDigit(days) === 1) {\n        return `Fyrir ${days} degi`;\n      }\n      return `Fyrir ${days} dögum`;\n    }\n    if (this.lastDigit(hours) === 1) {\n      return `Fyrir ${hours} klukkustund`;\n    }\n    return `Fyrir ${hours} klukkustundum`;\n  }\n\n  lastDigit(x) {\n    let str = x.toString();\n    str = str.slice(-1);\n    return parseInt(str, 10);\n  }\n\n  getJSON() {\n    this.message = document.createElement('p');\n    document.querySelector('main').append(this.message);\n\n    const request = new XMLHttpRequest();\n\n    this.showLoad();\n    request.open('GET', this.url, true);\n    request.onload = () => {\n      this.hideLoad();\n      const data = JSON.parse(request.response);\n      alert(data.error);\n      if (request.status >= 200 && request.status < 400) {\n        [this.categories, this.videos] = [data.categories, data.videos];\n        for (let i = 0; i < this.categories.length; i += 1) {\n          this.displayCategory(i);\n        }\n      } else {\n        console.log('test');\n        this.showError(data.error);\n      }\n    };\n    request.onerror = () => {\n      this.showError('Óþekkt villa');\n    };\n    request.send();\n  }\n\n  load() {\n    try {\n      this.getJSON();\n    } catch (e) {\n      this.showError(e);\n    }\n  }\n}\n\nfunction onPage(page) {\n  return window.location.pathname.toLowerCase() === (page).toLowerCase();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (!onPage('/VideoPage.html')) {\n    const videoContent = new VideoContent();\n    videoContent.getJSON();\n  }\n});\n","class Player {\n  constructor(id) {\n    // videos fylkið er frá 0 til n-1 en ids eru frá 1 til n\n    this.id = id - 1;\n    this.url = 'videos.json';\n    this.videos = null;\n    this.categories = null;\n\n    this.isPlaying = false;\n    this.isMute = false;\n\n    this.playButton = document.querySelector('.playButton');\n    this.muteButton = document.querySelector('.muteButton');\n    this.fullscreenButton = document.querySelector('.fullscreenButton');\n    this.forwardButton = document.querySelector('.forwardButton');\n    this.backwardButton = document.querySelector('.backwardButton');\n\n    this.playButton.addEventListener('click', this.play.bind(this));\n    this.muteButton.addEventListener('click', this.mute.bind(this));\n    this.fullscreenButton.addEventListener('click', this.fullscreen.bind(this));\n    this.forwardButton.addEventListener('click', this.forward.bind(this));\n    this.backwardButton.addEventListener('click', this.backward.bind(this));\n  }\n\n  showLoad() {\n    console.log('start loading');\n  }\n  hideLoad() {\n    console.log('stop loading');\n  }\n  showError(e) {\n    console.log('error');\n    console.log(e);\n  }\n\n  loadHTML() {\n    console.log('loading data');\n\n    const headerText = this.videos[this.id].title;\n    const img = this.videos[this.id].poster;\n    const source = this.videos[this.id].video;\n\n    const wrapper = document.querySelector('.videoContainer__wrapper');\n\n    // create header\n    const header = document.createElement('h1');\n    header.className = 'videoContainer__header';\n    const headerNode = document.createTextNode(headerText);\n    header.appendChild(headerNode);\n\n    wrapper.appendChild(header);\n\n    // create videoImg\n    const videoImg = document.createElement('div');\n    videoImg.className = 'videoContainer__videoImg';\n\n    const video = document.createElement('video');\n    video.className = 'videoContainer__video';\n    video.poster = img;\n\n    const videoSource = document.createElement('source');\n    videoSource.src = source;\n    videoSource.type = 'video/mp4';\n\n    video.appendChild(videoSource);\n    videoImg.appendChild(video);\n\n    // create playOverlay\n    const playOverlay = document.createElement('div');\n    playOverlay.className = 'videoContainer__playOverlay';\n\n    const playOverlayImage = document.createElement('img');\n    playOverlayImage.className = 'videoContainer__playOverlayImage';\n    playOverlayImage.src = 'img/play.svg';\n\n    playOverlay.appendChild(playOverlayImage);\n\n    videoImg.appendChild(playOverlay);\n\n    wrapper.appendChild(videoImg);\n  }\n\n  preparePlayer() {\n    this.video = document.querySelector('.videoContainer__video');\n    this.playOverlay = document.querySelector('.videoContainer__playOverlay');\n    this.playOverlayButton = document.querySelector('.videoContainer__playOverlayImage');\n    this.playOverlayButton.addEventListener('click', this.play.bind(this));\n  }\n\n  load() {\n    const request = new XMLHttpRequest();\n\n    this.showLoad();\n    request.open('GET', this.url, true);\n    request.onload = () => {\n      this.hideLoad();\n      const data = JSON.parse(request.response);\n      if (request.status >= 200 && request.status < 400) {\n        [this.categories, this.videos] = [data.categories, data.videos];\n        this.loadHTML();\n        this.preparePlayer();\n      } else {\n        this.showError(data.error);\n      }\n    };\n    request.onerror = () => {\n      this.showError('Óþekkt villa');\n    };\n    request.send();\n  }\n\n  play() {\n    if (this.isPlaying) {\n      this.video.pause();\n      this.playButton.src = 'img/play.svg';\n      this.playOverlay.classList.remove('hidden');\n      // this.playOverlay.style.display = 'block';\n    } else {\n      this.video.play();\n      this.playButton.src = 'img/pause.svg';\n      this.playOverlay.classList.add('hidden');\n      // this.playOverlay.style.display = 'none';\n    }\n    this.isPlaying = !this.isPlaying;\n  }\n\n  mute() {\n    if (this.video.muted) {\n      this.video.muted = false;\n      this.muteButton.src = 'img/mute.svg';\n    } else {\n      this.video.muted = true;\n      this.muteButton.src = 'img/unmute.svg';\n    }\n    this.isMute = !this.isMute;\n  }\n\n  fullscreen() {\n    this.video.webkitRequestFullScreen();\n  }\n\n  forward() {\n    this.video.currentTime = this.video.currentTime + 3;\n  }\n\n  backward() {\n    this.video.currentTime = this.video.currentTime - 3;\n  }\n}\n\nfunction onPage(page) {\n  return window.location.pathname.toLowerCase() === (page).toLowerCase();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (onPage('/VideoPage.html')) {\n    const id = window.location.href.split('?')[1].split('=')[1];\n    const p = new Player(id);\n    p.load();\n    console.log('after load call');\n  }\n});\n"]}
=======
{"version":3,"sources":["script.js","VideoPlayerScript.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class VideoContent {\r\n  constructor() {\r\n    this.url = 'videos.json';\r\n    this.videos = null;\r\n    this.categories = null;\r\n    this.message = document.querySelector('.message');\r\n  }\r\n\r\n  showLoad() {\r\n    this.message.innerHTML = 'Hleð gögnum...';\r\n    this.message.classList.remove('hidden');\r\n  }\r\n  hideLoad() {\r\n    this.message.innerHTML = null;\r\n    this.message.classList.add('hidden');\r\n  }\r\n  showError(e) {\r\n    this.message.innerHTML = e;\r\n    this.message.classList.remove('hidden');\r\n  }\r\n\r\n  displayCategory(id) {\r\n    const container = document.querySelector('main');\r\n    const s = document.createElement('section');\r\n    const h = document.createElement('h1');\r\n    h.classList.add('category__header');\r\n    h.innerHTML = this.categories[id].title;\r\n    const v = document.createElement('div');\r\n    v.classList.add('videos');\r\n    s.appendChild(h);\r\n\r\n    for (let i = 0; i < this.categories[id].videos.length; i += 1) {\r\n      const k = this.categories[id].videos[i] - 1;\r\n      this.displayVideo(k, v);\r\n    }\r\n    s.appendChild(v);\r\n    const cs = document.createElement('div');\r\n    cs.classList.add('content-seperator');\r\n    s.appendChild(cs);\r\n    container.appendChild(s);\r\n  }\r\n  displayVideo(id, container) {\r\n    const v = document.createElement('div');\r\n    v.classList.add('video');\r\n\r\n    const a = document.createElement('a');\r\n    a.href = `VideoPage.html?id=${this.videos[id].id}`;\r\n\r\n    const vimg = document.createElement('a');\r\n    vimg.classList.add('video__img');\r\n\r\n    const img = document.createElement('img');\r\n    img.src = this.videos[id].poster;\r\n    img.alt = this.videos[id].title;\r\n\r\n    const vd = document.createElement('div');\r\n    vd.classList.add('video__duration');\r\n    vd.innerHTML = this.duration(this.videos[id].duration);\r\n    vimg.appendChild(img);\r\n    vimg.appendChild(vd);\r\n    const vinfo = document.createElement('div');\r\n    vinfo.classList.add('video__info');\r\n    const h = document.createElement('h2');\r\n    h.innerHTML = this.videos[id].title;\r\n    const p = document.createElement('p');\r\n    p.innerHTML = this.howLong(this.videos[id].created);\r\n    vinfo.appendChild(h);\r\n    vinfo.appendChild(p);\r\n    a.appendChild(vimg);\r\n    a.appendChild(vinfo);\r\n    v.appendChild(a);\r\n    container.appendChild(v);\r\n  }\r\n  duration(x) {\r\n    let dur = x;\r\n    const mins = Math.floor(dur / 60);\r\n    dur %= 60;\r\n    const secs = Math.floor(dur);\r\n\r\n    if (secs < 10) {\r\n      return `${mins}:0${secs}`;\r\n    }\r\n    return `${mins}:${secs}`;\r\n  }\r\n  howLong(x) {\r\n    let s = (Date.now() - x) / 1000;\r\n    const years = Math.floor(s / (365 * 24 * 60 * 60));\r\n    s %= (365 * 24 * 60 * 60);\r\n    const months = Math.floor(s / (30 * 24 * 60 * 60));\r\n    s %= (30 * 24 * 60 * 60);\r\n    const weeks = Math.floor(s / (7 * 24 * 60 * 60));\r\n    s %= (7 * 24 * 60 * 60);\r\n    const days = Math.floor(s / (24 * 60 * 60));\r\n    s %= (24 * 60 * 60);\r\n    const hours = Math.floor(s / (60 * 60));\r\n    s %= (60 * 60);\r\n\r\n    if (years > 1) {\r\n      if (this.lastDigit(years) === 1) {\r\n        return `Fyrir ${years} ári`;\r\n      }\r\n      return `Fyrir ${years} árum`;\r\n    }\r\n    if (months > 1) {\r\n      if (this.lastDigit(months) === 1) {\r\n        return `Fyrir ${months} mánuði`;\r\n      }\r\n      return `Fyrir ${months} mánuðum`;\r\n    }\r\n    if (weeks > 1) {\r\n      if (this.lastDigit(weeks) === 1) {\r\n        return `Fyrir ${weeks} viku`;\r\n      }\r\n      return `Fyrir ${weeks} vikum`;\r\n    }\r\n    if (days > 1) {\r\n      if (this.lastDigit(days) === 1) {\r\n        return `Fyrir ${days} degi`;\r\n      }\r\n      return `Fyrir ${days} dögum`;\r\n    }\r\n    if (this.lastDigit(hours) === 1) {\r\n      return `Fyrir ${hours} klukkustund`;\r\n    }\r\n    return `Fyrir ${hours} klukkustundum`;\r\n  }\r\n\r\n  lastDigit(x) {\r\n    let str = x.toString();\r\n    str = str.slice(-1);\r\n    return parseInt(str, 10);\r\n  }\r\n  getJSON() {\r\n    const request = new XMLHttpRequest();\r\n\r\n    this.showLoad();\r\n    request.open('GET', this.url, true);\r\n    request.onload = () => {\r\n      this.hideLoad();\r\n      const data = JSON.parse(request.response);\r\n      if (request.status >= 200 && request.status < 400) {\r\n        [this.categories, this.videos] = [data.categories, data.videos];\r\n        for (let i = 0; i < this.categories.length; i += 1) {\r\n          this.displayCategory(i);\r\n        }\r\n      } else {\r\n        this.showError(data.error);\r\n      }\r\n    };\r\n    request.onerror = () => {\r\n      this.showError('Óþekkt villa');\r\n    };\r\n    request.send();\r\n  }\r\n}\r\n\r\nfunction onPage(page) {\r\n  return window.location.pathname.toLowerCase() === (page).toLowerCase();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  if (!onPage('/VideoPage.html')) {\r\n    const videoContent = new VideoContent();\r\n    videoContent.getJSON();\r\n  }\r\n});\r\n","class Player {\r\n  constructor(id) {\r\n    // videos fylkið er frá 0 til n-1 en ids eru frá 1 til n\r\n    this.id = id - 1;\r\n    this.url = 'videos.json';\r\n    this.videos = null;\r\n    this.categories = null;\r\n\r\n    this.isPlaying = false;\r\n    this.isMute = false;\r\n\r\n    this.playButton = document.querySelector('.playButton');\r\n    this.muteButton = document.querySelector('.muteButton');\r\n    this.fullscreenButton = document.querySelector('.fullscreenButton');\r\n    this.forwardButton = document.querySelector('.forwardButton');\r\n    this.backwardButton = document.querySelector('.backwardButton');\r\n\r\n    this.playButton.addEventListener('click', this.play.bind(this));\r\n    this.muteButton.addEventListener('click', this.mute.bind(this));\r\n    this.fullscreenButton.addEventListener('click', this.fullscreen.bind(this));\r\n    this.forwardButton.addEventListener('click', this.forward.bind(this));\r\n    this.backwardButton.addEventListener('click', this.backward.bind(this));\r\n  }\r\n\r\n  showLoad() {\r\n    console.log('start loading');\r\n  }\r\n  hideLoad() {\r\n    console.log('stop loading');\r\n  }\r\n  showError(e) {\r\n    console.log('error');\r\n    console.log(e);\r\n  }\r\n\r\n  loadHTML() {\r\n    console.log('loading data');\r\n\r\n    const headerText = this.videos[this.id].title;\r\n    const img = this.videos[this.id].poster;\r\n    const source = this.videos[this.id].video;\r\n\r\n    const wrapper = document.querySelector('.videoContainer__wrapper');\r\n\r\n    // create header\r\n    const header = document.createElement('h1');\r\n    header.className = 'videoContainer__header';\r\n    const headerNode = document.createTextNode(headerText);\r\n    header.appendChild(headerNode);\r\n\r\n    wrapper.appendChild(header);\r\n\r\n    // create videoImg\r\n    const videoImg = document.createElement('div');\r\n    videoImg.className = 'videoContainer__videoImg';\r\n\r\n    const video = document.createElement('video');\r\n    video.className = 'videoContainer__video';\r\n    video.poster = img;\r\n\r\n    const videoSource = document.createElement('source');\r\n    videoSource.src = source;\r\n    videoSource.type = 'video/mp4';\r\n\r\n    video.appendChild(videoSource);\r\n    videoImg.appendChild(video);\r\n\r\n    // create playOverlay\r\n    const playOverlay = document.createElement('div');\r\n    playOverlay.className = 'videoContainer__playOverlay';\r\n\r\n    const playOverlayImage = document.createElement('img');\r\n    playOverlayImage.className = 'videoContainer__playOverlayImage';\r\n    playOverlayImage.src = 'img/play.svg';\r\n\r\n    playOverlay.appendChild(playOverlayImage);\r\n\r\n    videoImg.appendChild(playOverlay);\r\n\r\n    wrapper.appendChild(videoImg);\r\n  }\r\n\r\n  preparePlayer() {\r\n    this.video = document.querySelector('.videoContainer__video');\r\n    this.playOverlay = document.querySelector('.videoContainer__playOverlay');\r\n    this.playOverlayButton = document.querySelector('.videoContainer__playOverlayImage');\r\n    this.playOverlayButton.addEventListener('click', this.play.bind(this));\r\n  }\r\n\r\n  load() {\r\n    const request = new XMLHttpRequest();\r\n\r\n    this.showLoad();\r\n    request.open('GET', this.url, true);\r\n    request.onload = () => {\r\n      this.hideLoad();\r\n      const data = JSON.parse(request.response);\r\n      if (request.status >= 200 && request.status < 400) {\r\n        [this.categories, this.videos] = [data.categories, data.videos];\r\n        this.loadHTML();\r\n        this.preparePlayer();\r\n      } else {\r\n        this.showError(data.error);\r\n      }\r\n    };\r\n    request.onerror = () => {\r\n      this.showError('Óþekkt villa');\r\n    };\r\n    request.send();\r\n  }\r\n\r\n  play() {\r\n    if (this.isPlaying) {\r\n      this.video.pause();\r\n      this.playButton.src = 'img/play.svg';\r\n      this.playOverlay.classList.remove('hidden');\r\n      // this.playOverlay.style.display = 'block';\r\n    } else {\r\n      this.video.play();\r\n      this.playButton.src = 'img/pause.svg';\r\n      this.playOverlay.classList.add('hidden');\r\n      // this.playOverlay.style.display = 'none';\r\n    }\r\n    this.isPlaying = !this.isPlaying;\r\n  }\r\n\r\n  mute() {\r\n    if (this.video.muted) {\r\n      this.video.muted = false;\r\n      this.muteButton.src = 'img/mute.svg';\r\n    } else {\r\n      this.video.muted = true;\r\n      this.muteButton.src = 'img/unmute.svg';\r\n    }\r\n    this.isMute = !this.isMute;\r\n  }\r\n\r\n  fullscreen() {\r\n    this.video.webkitRequestFullScreen();\r\n  }\r\n\r\n  forward() {\r\n    this.video.currentTime = this.video.currentTime + 3;\r\n  }\r\n\r\n  backward() {\r\n    this.video.currentTime = this.video.currentTime - 3;\r\n  }\r\n}\r\n\r\nfunction onPage(page) {\r\n  return window.location.pathname.toLowerCase() === (page).toLowerCase();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  if (onPage('/VideoPage.html')) {\r\n    const id = window.location.href.split('?')[1].split('=')[1];\r\n    const p = new Player(id);\r\n    p.load();\r\n    console.log('after load call');\r\n  }\r\n});\r\n"]}
>>>>>>> 79c5bb8855c8b8c99cf316aa45a0754b06cffad7
